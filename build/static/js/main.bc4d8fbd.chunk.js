(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/pin-outline.7c3df105.svg"},18:function(e,t,a){e.exports=a.p+"static/media/pin-filled.8ce1b2c1.svg"},19:function(e,t,a){e.exports=a.p+"static/media/search.8d146a4a.svg"},22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(16),r=a.n(o),c=a(6),l=a(10),s=a(1),u=[{creator:"amy-lei",type:"text",tags:["sample","hash","tag","kjfna ukcnaca"],title:"How to MERN",content:{url:"https://github.com/amy-lei/dashboard/pull/7/files",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},timestamp:new Date,isPublic:!0},{creator:"amy-lei",type:"text",tags:["tag1","tag2","tag4","kjfna-ukcnaca"],title:"How to MERN",content:{url:"https://github.com/amy-lei/dashboard/pull/7/files",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "},timestamp:new Date,isPublic:!0},{creator:"amy-lei",type:"text",tags:["sample","hash","tag","kjfna ukcnaca"],title:"How to MERN",content:{url:"https://github.com/amy-lei/dashboard/pull/7/files",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},timestamp:new Date,isPublic:!0},{creator:"amy-lei",type:"text",tags:["tag1","tag2","tag4","kjfna-ukcnaca"],title:"How to MERN",content:{url:"https://github.com/amy-lei/dashboard/pull/7/files",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "},timestamp:new Date,isPublic:!0},{creator:"amy-lei",type:"youtube",tags:["sample","hash","tag"],title:"MLH Fellowship: Pallets Live Q&A with David Lord",content:{id:"VVVCWWFxVFZlTy1vUVcyQWxtWlZqLUZnLjBiSlVyQ09OVmVr",description:"Live Q&A about Pallets, Python, open source, contributing to and maintaining projects with David Lord!",thumbnails:{url:"https://i.ytimg.com/vi/0bJUrCONVek/sddefault.jpg",width:640,height:480}},timestamp:"2020-06-18T17:42:27Z",isPublic:!0},{creator:"amy-lei",type:"text",tags:["tag1","tag2","tag4","kjfna-ukcnaca"],title:"How to MERN",content:{url:"https://github.com/amy-lei/dashboard/pull/7/files",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "},timestamp:new Date,isPublic:!0},{creator:"amy-lei",type:"text",tags:["tag1","tag2","tag4","kjfna-ukcnaca"],title:"How to MERN",content:{url:"https://github.com/amy-lei/dashboard/pull/7/files",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "},timestamp:new Date,isPublic:!0},{creator:"amy-lei",type:"youtube",tags:["sample","hash","tag"],title:"MLH Fellowship: Pallets Live Q&A with David Lord",content:{id:"VVVCWWFxVFZlTy1vUVcyQWxtWlZqLUZnLjBiSlVyQ09OVmVr",description:"Live Q&A about Pallets, Python, open source, contributing to and maintaining projects with David Lord!",thumbnails:{url:"https://i.ytimg.com/vi/0bJUrCONVek/sddefault.jpg",width:640,height:480}},timestamp:"2020-06-18T17:42:27Z",isPublic:!0}],m={githubId:"123456",username:"amy-lei",fullname:"Amy Lei",avatarUrl:"",discord:null,pinnedPosts:u},d=["DC8665","138085","544667","CE7672","EEB462","648ECD","6757C7","545454","4A6163","5BAEA3"],p={default:3,1100:2,750:1},g=function(e){for(var t=0,a=0;a<e.length;a++)t+=e.charCodeAt(a)+a;return"#"+d[t=((t%=d.length)+d.length)%d.length]},h=a(17),b=a.n(h),f=a(18),y=a.n(f);var v=function(e){var t,a=Object(n.useState)(!1),o=Object(c.a)(a,2),r=o[0],l=o[1],s=Object(n.useState)(r),u=Object(c.a)(s,2),m=u[0],d=u[1];switch(e.type.toLowerCase()){case"discord":case"text":t=i.a.createElement("div",{className:"post-body_content text"},"link"in e.content&&i.a.createElement(i.a.Fragment,null,"\ud83d\udd17",i.a.createElement("a",{href:e.content.url,target:"_blank"},"Resource")),i.a.createElement("p",null,e.content.description));break;case"youtube":t=i.a.createElement("div",{className:"post-body_content youtube"},i.a.createElement("a",{href:"https://www.youtube.com/watch?v=".concat(e.content.id),target:"_blank"},"\ud83d\udd17 Video link"),i.a.createElement("img",{className:"post-body_thumbnail",src:e.content.thumbnails.url}))}var p,h=e.tags.map((function(e,t){return i.a.createElement("span",{key:t,className:"tag",style:{backgroundColor:g(e)}},"#".concat(e))})),f=function(e){var t=e;e instanceof Date||(t=new Date(e));var a=new Date,n=t.getTime()-a.getTime();return Math.floor(Math.abs(n)/864e5)}(e.timestamp);return p=0===f?"today":1===f?"yesterday":f+" days ago",i.a.createElement("div",{className:"post",onMouseOver:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},(m||r)&&i.a.createElement("img",{onClick:function(){return l(!r)},className:"post-pin",src:r?y.a:b.a}),i.a.createElement("section",{className:"post-body"},i.a.createElement("div",{className:"post-body_header"},i.a.createElement("h3",{className:"title"},e.title),i.a.createElement("label",{className:"creator"},"Shared by ",e.creator),i.a.createElement("label",{className:"time"},"Posted ",p)),t),i.a.createElement("section",{className:"post-tags"},h))},E=a(19),L=a.n(E);var w=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)([]),s=Object(c.a)(l,2),u=s[0],m=(s[1],u.map((function(e,t){var a=e.substring(1);return i.a.createElement("span",{key:t,className:"tag",style:{backgroundColor:g(a)}},e)})));return i.a.createElement("div",{className:"search"},m,i.a.createElement("input",{value:o,placeholder:"Search by title or by tags by prepending #...",onChange:function(e){r(e.target.value)}}),i.a.createElement("img",{src:L.a}))};var N=function(e){return i.a.createElement("div",{className:"profile"},i.a.createElement("div",{className:"profile-avatar"}),i.a.createElement("section",null,i.a.createElement("h2",{className:"profile-name"},e.fullname||e.username),i.a.createElement("span",{className:"profile-discord"},e.discord||"Please enter your discord username")))},O=(a(27),a(20)),j=a.n(O);a(28);function k(){var e=Object(n.useContext)(I),t=e.state,a=e.dispatch;if(!t.isLoggedIn)return i.a.createElement(s.a,{to:"/login"});var o=t.user;o.avatar_url,o.name,o.public_repos,o.followers,o.following;return i.a.createElement("div",{className:"home-container"},i.a.createElement("button",{onClick:function(){a({type:"LOGOUT"})}},"Logout"),i.a.createElement(N,m),i.a.createElement(w,null),i.a.createElement(j.a,{className:"my-masonry-grid posts",columnClassName:"my-masonry-grid_column",breakpointCols:p},u.map((function(e){return i.a.createElement(v,e)}))))}var x=a(7);a(34);function S(){var e=Object(n.useContext)(I),t=e.state,a=e.dispatch,o=Object(n.useState)({errorMessage:"",isLoading:!1}),r=Object(c.a)(o,2),l=r[0],u=r[1],m=t.client_id,d=t.redirect_uri;return Object(n.useEffect)((function(){var e=window.location.href;if(e.includes("?code=")){var n=e.split("?code=");window.history.pushState({},null,n[0]),u(Object(x.a)(Object(x.a)({},l),{},{isLoading:!0}));var i={client_id:t.client_id,redirect_uri:t.redirect_uri,client_secret:t.client_secret,code:n[1]},o=t.proxy_url;fetch(o,{method:"POST",body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){a({type:"LOGIN",payload:{user:e,isLoggedIn:!0}})})).catch((function(e){u({isLoading:!1,errorMessage:"Sorry! Login failed"})}))}}),[t,a,l]),t.isLoggedIn?i.a.createElement(s.a,{to:"/"}):i.a.createElement("main",null,i.a.createElement("section",{className:"container"},i.a.createElement("div",null,i.a.createElement("h1",null,"Welcome"),i.a.createElement("span",null,"Super amazing app"),i.a.createElement("span",null,l.errorMessage),i.a.createElement("div",{className:"login-container"},l.isLoading?i.a.createElement("div",{className:"loader-container"},i.a.createElement("div",{className:"loader"})):i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"login-link",href:"https://github.com/login/oauth/authorize?scope=user&client_id=".concat(m,"&redirect_uri=").concat(d),onClick:function(){u(Object(x.a)(Object(x.a)({},l),{},{errorMessage:""}))}},i.a.createElement("span",null,"Login with GitHub")))))))}var _={isLoggedIn:JSON.parse(localStorage.getItem("isLoggedIn"))||!1,user:JSON.parse(localStorage.getItem("user"))||null,client_id:"57cc7255392bb873af7c",redirect_uri:"https://arcane-ravine-66915.herokuapp.com/login",client_secret:"33bf80ee246f154d2aba9211398a35e0e2e27c95",proxy_url:"https://arcane-ravine-66915.herokuapp.com/authenticate"},C=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("isLoggedIn",JSON.stringify(t.payload.isLoggedIn)),localStorage.setItem("user",JSON.stringify(t.payload.user)),console.log(t.payload.isLoggedIn),Object(x.a)(Object(x.a)({},e),{},{isLoggedIn:t.payload.isLoggedIn,user:t.payload.user});case"LOGOUT":return localStorage.clear(),Object(x.a)(Object(x.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},I=Object(n.createContext)();var P=function(){var e=Object(n.useReducer)(C,_),t=Object(c.a)(e,2),a=t[0],o=t[1];return i.a.createElement(I.Provider,{value:{state:a,dispatch:o}},i.a.createElement(l.a,null,i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/login",component:S}),i.a.createElement(s.b,{path:"/",component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.bc4d8fbd.chunk.js.map